<!DOCTYPE html>

<html>
	<head>
		<title>Promises Exercise</title>
	</head>
	<body>
		<button>Click!</button>

		<script>
			console.log("The game is starting!");
			function startGame() {
				let counter = 0;
				// whenever user clicks on the "button" element, increment the counter
				document.querySelector('button').addEventListener('click', () => {
					++counter;
				});

				return new Promise((resolve, reject) => {
					// setTimout
					// param #1: function to run
					// param #2: time to wait before running function referenced in param #1 (an anonymous function, in this case)
					setTimeout(() => {
						if (counter > 5) {
							resolve();
						} else {
							reject();
						}
					}, 2000)
				});
			}

			startGame()
				.then(() => alert('You win!'))
				// .then(() => alert('You win! You clicked ' + counter + 'times'))
				.catch(() => alert('You lost!'));
				// .catch(() => alert('You lost! You only clicked ' + counter + 'times'));
		</script>
	</body>
</html>